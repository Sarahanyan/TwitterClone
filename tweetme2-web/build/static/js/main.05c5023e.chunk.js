(this["webpackJsonptweetme2-web"]=this["webpackJsonptweetme2-web"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n.n(s),a=n(6),o=n.n(a),i=(n(13),n(7)),l=n(3);var j=function(e){var t=e.singleTweet,n=e.action,r=Object(s.useState)(!1),a=Object(l.a)(r,2),o=a[0],i=a[1],j=Object(s.useState)(t.likes),u=Object(l.a)(j,2),b=u[0],d=u[1],O="like"===n?"btn-primary":"unlike"===n?"btn-outline-secondary":"btn-outline-success",p={like:"".concat(b," likes"),unlike:"unlike",retweet:"retweet"};return Object(c.jsx)("button",{className:"btn ".concat(O," mx-1"),onClick:function(e){e.preventDefault(),d(o?b-1:b+1),i(!o)},children:p[n]})},u=function(e){var t=e.singleTweet,n=t.content;t.likes;return Object(c.jsxs)("div",{className:"col-10 py-5 my-3 border-bottom",children:[Object(c.jsx)("h3",{children:n}),Object(c.jsxs)("div",{className:"btn btn-group",children:[Object(c.jsx)(j,{singleTweet:e.singleTweet,action:"like"}),Object(c.jsx)(j,{singleTweet:e.singleTweet,action:"unlike"}),Object(c.jsx)(j,{singleTweet:e.singleTweet,action:"retweet"})]})]})};function b(e){var t=Object(s.useState)([]),n=Object(l.a)(t,2),r=n[0],a=n[1],o=e.createdTweet;return Object(s.useEffect)((function(){a([o].concat(Object(i.a)(r)))}),[o]),Object(s.useEffect)((function(){!function(e){var t=new XMLHttpRequest;t.responseType="json",t.open("GET","http://localhost:8000/api/tweets/"),t.onload=function(){e(t.response,t.status)},t.onerror=function(){alert("Sorry, a serious error occured")},t.send()}((function(e,t){200===t&&(a(e),r||a([{id:1,content:"hey"},{id:2,content:"heysup"},{id:3,content:"sup"}]))}))}),[]),Object(c.jsx)("div",{className:"container align-center",children:r.map((function(e,t){var n=e.id;e.content,e.likes;return Object(c.jsx)(u,{singleTweet:e},"".concat(t,"-").concat(n))}))})}var d=function(e){var t=Object(s.useRef)(),n=Object(s.useState)({content:""}),r=Object(l.a)(n,2),a=r[0],o=r[1];return Object(c.jsxs)("div",{className:"col-12 my-4",children:[Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=t.current.value;console.log(n),o({content:n})},children:[Object(c.jsx)("textarea",{ref:t,required:!0,className:"form-control"}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",children:"Tweet"})]}),Object(c.jsx)(b,{createdTweet:a})]})},O=n.p+"static/media/logo.6ce24c58.svg";n(14);var p=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("img",{src:O,className:"App-logo",alt:"logo"}),Object(c.jsxs)("p",{children:["Edit ",Object(c.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(c.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]}),Object(c.jsx)("div",{className:"container align-center",children:Object(c.jsx)(d,{})})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};document.getElementById("root")&&o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"));var f=document.getElementById("tweetme-2");f&&o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(d,{})}),f),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.05c5023e.chunk.js.map