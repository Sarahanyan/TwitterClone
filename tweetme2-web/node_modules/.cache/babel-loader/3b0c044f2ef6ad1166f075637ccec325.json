{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _wrapRegExp from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{ActionBtn}from\"./buttons\";import{UserDisplay,UserPicture}from\"../profile\";export var Tweet=function Tweet(props){var _props$singleTweet=props.singleTweet,content=_props$singleTweet.content,likes=_props$singleTweet.likes,id=_props$singleTweet.id,user=_props$singleTweet.user;var handleDidRetweet=props.handleDidRetweet;var parentTweet=props.singleTweet.parent;var tweetClass=\"col-10 py-5 my-3 border-bottom\";var _useState=useState(props.singleTweet),_useState2=_slicedToArray(_useState,2),singleTweet=_useState2[0],setSingleTweet=_useState2[1];var isDetailView=checkIfDetailView(singleTweet);function checkIfDetailView(tweet){var path=window.location.pathname;var idRegex=/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetId:1});var match=path.match(idRegex);var urlTweetId=match?match.groups.tweetId:-1;return\"\".concat(tweet.id)===\"\".concat(urlTweetId);}var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"\".concat(singleTweet.id);};var tweetActionDidPerform=function tweetActionDidPerform(actionTweet,status){if(status===200){setSingleTweet(actionTweet);}else if(status===201){handleDidRetweet(actionTweet);}};return/*#__PURE__*/_jsxs(\"div\",{className:tweetClass,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-2\",children:[/*#__PURE__*/_jsx(UserPicture,{user:user}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-3\",children:/*#__PURE__*/_jsx(UserDisplay,{user:user,includeFullName:true})})]}),content&&/*#__PURE__*/_jsx(\"h3\",{className:\"mx-5\",children:content}),parentTweet&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ParentTweet,{tweet:parentTweet,checkIfDetailView:checkIfDetailView,handleLink:handleLink})}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group\",children:[/*#__PURE__*/_jsx(ActionBtn,{singleTweet:singleTweet,action:\"like\",tweetActionDidPerform:tweetActionDidPerform}),/*#__PURE__*/_jsx(ActionBtn,{singleTweet:singleTweet,action:\"unlike\",tweetActionDidPerform:tweetActionDidPerform}),/*#__PURE__*/_jsx(ActionBtn,{singleTweet:singleTweet,action:\"retweet\",tweetActionDidPerform:tweetActionDidPerform}),!isDetailView&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary mx-2\",onClick:handleLink,children:\"View\"})]})]});};var ParentTweet=function ParentTweet(props){var checkIfDetailView=props.checkIfDetailView,handleLink=props.handleLink;var _props$tweet=props.tweet,content=_props$tweet.content,user=_props$tweet.user;var isDetailView=checkIfDetailView(props.tweet);// console.log(props.tweet.id, (user.first_name) ? user.first_name : \"null\");\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"col-9 mx-auto border rounded py-1 px-2 mb-2\",style:{\"background\":\"#e8eef4\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2 text-muted small\",children:\"Retweet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mt-4 pointer\",children:[/*#__PURE__*/_jsx(UserPicture,{user:user}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-3\",children:/*#__PURE__*/_jsx(UserDisplay,{user:user,includeFullName:true})})]}),/*#__PURE__*/_jsx(\"h3\",{children:content}),!isDetailView&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",onClick:handleLink,children:\"View\"})]});};","map":{"version":3,"sources":["/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","UserDisplay","UserPicture","Tweet","props","singleTweet","content","likes","id","user","handleDidRetweet","parentTweet","parent","tweetClass","setSingleTweet","isDetailView","checkIfDetailView","tweet","path","window","location","pathname","idRegex","match","urlTweetId","groups","tweetId","handleLink","event","preventDefault","href","tweetActionDidPerform","actionTweet","status","ParentTweet"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\nimport {ActionBtn} from \"./buttons\"\nimport {UserDisplay, UserPicture} from \"../profile\"\n\nexport const Tweet = (props) => {\n  let {content, likes, id, user} = props.singleTweet\n  const handleDidRetweet = props.handleDidRetweet\n  const parentTweet = props.singleTweet.parent\n  const tweetClass = \"col-10 py-5 my-3 border-bottom\"\n  const[singleTweet, setSingleTweet] = useState(props.singleTweet)\n  const isDetailView = checkIfDetailView(singleTweet)\n\n  function checkIfDetailView(tweet){\n    const path = window.location.pathname\n    const idRegex = /(?<tweetId>\\d+)/\n    const match = path.match(idRegex)\n    const urlTweetId = match ? match.groups.tweetId : -1\n    return `${tweet.id}` === `${urlTweetId}`\n  }\n\n  const handleLink = (event) => {\n    event.preventDefault()\n    window.location.href = `${singleTweet.id}`\n  }\n\n  const tweetActionDidPerform = (actionTweet, status) => {\n    if (status === 200) {\n      setSingleTweet(actionTweet)\n    }else if (status === 201){\n      handleDidRetweet(actionTweet)\n    }\n  }\n\n  return (\n    <div className={tweetClass}>\n      <div className=\"d-flex mb-2\">\n        <UserPicture user={user} />\n        <p className=\"mx-3\">\n          <UserDisplay user={user} includeFullName/>\n        </p>\n      </div>\n      {content && <h3 className=\"mx-5\">{content}</h3>}\n      {\n        parentTweet && \n        <div>\n          <ParentTweet tweet={parentTweet} checkIfDetailView={checkIfDetailView} handleLink={handleLink}/>\n        </div>\n      }\n      <div className=\"btn btn-group\">\n        <ActionBtn singleTweet={singleTweet} action=\"like\" tweetActionDidPerform={tweetActionDidPerform}/>\n        <ActionBtn singleTweet={singleTweet} action=\"unlike\" tweetActionDidPerform={tweetActionDidPerform}/>\n        <ActionBtn singleTweet={singleTweet} action=\"retweet\" tweetActionDidPerform={tweetActionDidPerform}/>\n        {\n          (!isDetailView) && <button className=\"btn btn-outline-secondary mx-2\" onClick={handleLink}>View</button>\n        }\n      </div>\n    </div>\n  )\n}\n\nconst ParentTweet = (props) => {\n  const {checkIfDetailView, handleLink} = props\n  const {content, user} = props.tweet\n  const isDetailView = checkIfDetailView(props.tweet)\n  // console.log(props.tweet.id, (user.first_name) ? user.first_name : \"null\");\n\n  return (\n    <div className=\"col-9 mx-auto border rounded py-1 px-2 mb-2\" style={{\"background\": \"#e8eef4\"}}>\n      <p className=\"mb-2 text-muted small\">Retweet</p>\n      <div className=\"d-flex mt-4 pointer\">\n          <UserPicture user={user} />\n          <p className=\"mx-3\">\n            <UserDisplay user={user} includeFullName/>\n          </p>\n      </div>\n      <h3>{content}</h3>\n      {\n        (!isDetailView) && <button className=\"btn btn-link\" onClick={handleLink}>View</button>\n      }\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}