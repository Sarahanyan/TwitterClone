{"ast":null,"code":"import _objectSpread from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{apiProfileDetail,apiProfileFollowingToggle}from\"./lookup\";import{UserDisplay,UserPicture}from\"./components\";import{DisplayCount}from\"./utils\";export var ProfileBadge=function ProfileBadge(props){var user=props.user,didFollowToggle=props.didFollowToggle,profileLoading=props.profileLoading;var profPicstyle={fontSize:\"2.7rem\",backgroundColor:\"#245280\"};var profPicClasses=\"px-5 py-4 mt-5 mb-5 rounded-circle text-white\";var currentActionVerb=user.is_following?\"Unfollow\":\"Follow\";currentActionVerb=profileLoading?\"Loading...\":currentActionVerb;var handleFollowToggle=function handleFollowToggle(event){event.preventDefault();if(!profileLoading){didFollowToggle(currentActionVerb);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container my-5 px-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 py-5 px-4\",children:[/*#__PURE__*/_jsx(UserPicture,{user:user,stylings:profPicstyle,classes:profPicClasses}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mt-5\",children:/*#__PURE__*/_jsx(UserDisplay,{user:user,includeFullName:true,hideLink:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Followers: \",/*#__PURE__*/_jsx(DisplayCount,{children:user.followers_count})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Following: \",/*#__PURE__*/_jsx(DisplayCount,{children:user.following_count})]}),/*#__PURE__*/_jsx(\"p\",{children:user.location}),/*#__PURE__*/_jsx(\"p\",{children:user.bio}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:handleFollowToggle,children:currentActionVerb})]})})]})})});};export var ProfileBadgeComponent=function ProfileBadgeComponent(props){var username=props.username;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),profileLoading=_useState4[0],setProfileLoading=_useState4[1];// console.log(username);\nvar profileDetailCallback=function profileDetailCallback(response,status){if(status===200){setProfile(_objectSpread({},response));console.log(profile);}else{alert(\"Sorry, a serious error occured\");}};useEffect(function(){apiProfileDetail(username,profileDetailCallback);},[username]);var handleNewFollow=function handleNewFollow(actionVerb){setProfileLoading(true);apiProfileFollowingToggle(username,actionVerb,function(response,status){if(status===200){setProfile(response);console.log(profile);}setProfileLoading(false);});};return profile?/*#__PURE__*/_jsx(ProfileBadge,{user:profile,didFollowToggle:handleNewFollow,profileLoading:profileLoading}):/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});};{/* <div className=\"card p-4 mx-auto \" style={{width: \"100%\"}}>\n      <div className=\"card-img-top my-5 mx-auto d-flex\">\n        <UserPicture user={user} stylings={profPicstyle} classes={profPicClasses}/>\n        <UserDisplay user={user} includeFullName hideLink /> <br />\n      </div>\n      <div className=\"card-body mx-auto\">\n        <p>Followers: <DisplayCount>{user.followers_count}</DisplayCount></p>\n        <p>Following: <DisplayCount>{user.following_count}</DisplayCount></p>\n        <p>{user.location}</p>\n        <p>{user.bio}</p>\n        <button className=\"btn btn-primary mt-3\" onClick={handleFollowToggle}>\n          {currentActionVerb}\n      </button>\n      </div>\n    </div> */}","map":{"version":3,"sources":["/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/src/profile/badge.js"],"names":["React","useState","useEffect","apiProfileDetail","apiProfileFollowingToggle","UserDisplay","UserPicture","DisplayCount","ProfileBadge","props","user","didFollowToggle","profileLoading","profPicstyle","fontSize","backgroundColor","profPicClasses","currentActionVerb","is_following","handleFollowToggle","event","preventDefault","followers_count","following_count","location","bio","ProfileBadgeComponent","username","profile","setProfile","setProfileLoading","profileDetailCallback","response","status","console","log","alert","handleNewFollow","actionVerb"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport {apiProfileDetail, apiProfileFollowingToggle} from \"./lookup\"\nimport {UserDisplay, UserPicture} from \"./components\"\nimport {DisplayCount} from \"./utils\"\n\nexport const ProfileBadge = (props) => {\n  const {user, didFollowToggle, profileLoading} = props\n  const profPicstyle = {fontSize: \"2.7rem\", backgroundColor: \"#245280\"}\n  const profPicClasses = \"px-5 py-4 mt-5 mb-5 rounded-circle text-white\"\n  let currentActionVerb = user.is_following ? \"Unfollow\" : \"Follow\"\n  currentActionVerb = profileLoading ? \"Loading...\" : currentActionVerb\n\n  const handleFollowToggle = (event) => {\n    event.preventDefault()\n    if (!profileLoading) {\n      didFollowToggle(currentActionVerb) \n    }\n  }\n\n  return(\n  <div className=\"container my-5 px-auto\">\n    <div className=\"card mb-3\">\n      <div className=\"row g-0\">\n        <div className=\"col-md-4 py-5 px-4\">\n          <UserPicture user={user} stylings={profPicstyle} classes={profPicClasses}/><br />\n          <h5 className=\"card-title mt-5\"><UserDisplay user={user} includeFullName hideLink /></h5>\n\n          {/* <p className=\"mt-5\"><UserDisplay user={user} includeFullName hideLink /></p> */}\n        </div>\n        <div className=\"col-md-8\">\n          <div className=\"card-body\">\n            <p>Followers: <DisplayCount>{user.followers_count}</DisplayCount></p>\n            <p>Following: <DisplayCount>{user.following_count}</DisplayCount></p>\n            <p>{user.location}</p>\n            <p>{user.bio}</p>\n            <button className=\"btn btn-primary mt-3\" onClick={handleFollowToggle}>\n              {currentActionVerb}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n  )\n}\n\nexport const ProfileBadgeComponent = (props) => {\n  const {username} = props\n  const [profile, setProfile] = useState(null)\n  const [profileLoading, setProfileLoading] = useState(false)\n  // console.log(username);\n\n  const profileDetailCallback = (response, status) => {\n    if (status === 200) {\n      setProfile({...response})\n      console.log(profile);\n    } else {\n      alert(\"Sorry, a serious error occured\")\n    }\n  }\n\n  useEffect(() => {\n    apiProfileDetail(username, profileDetailCallback)\n  }, [username])\n\n  const handleNewFollow = (actionVerb) => {\n    setProfileLoading(true)\n    apiProfileFollowingToggle(username, actionVerb, (response, status) => {\n      if (status === 200) {\n        setProfile(response)\n        console.log(profile);\n      }\n      setProfileLoading(false)\n    })\n  }\n\n  return profile ? <ProfileBadge user={profile} didFollowToggle={handleNewFollow} profileLoading={profileLoading}/> : <h1>Loading...</h1>\n}\n\n\n    {/* <div className=\"card p-4 mx-auto \" style={{width: \"100%\"}}>\n      <div className=\"card-img-top my-5 mx-auto d-flex\">\n        <UserPicture user={user} stylings={profPicstyle} classes={profPicClasses}/>\n        <UserDisplay user={user} includeFullName hideLink /> <br />\n      </div>\n      <div className=\"card-body mx-auto\">\n        <p>Followers: <DisplayCount>{user.followers_count}</DisplayCount></p>\n        <p>Following: <DisplayCount>{user.following_count}</DisplayCount></p>\n        <p>{user.location}</p>\n        <p>{user.bio}</p>\n        <button className=\"btn btn-primary mt-3\" onClick={handleFollowToggle}>\n          {currentActionVerb}\n      </button>\n      </div>\n    </div> */}"]},"metadata":{},"sourceType":"module"}