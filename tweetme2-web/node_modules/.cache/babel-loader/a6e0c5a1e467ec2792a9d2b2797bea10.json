{"ast":null,"code":"import _toConsumableArray from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import{displayTweets}from\"../lookup\";export var ActionBtn=function ActionBtn(props){var handleClick=function handleClick(event){event.preventDefault();userLike?setLikes(likes-1):setLikes(likes+1);setUserLike(!userLike);};var singleTweet=props.singleTweet,action=props.action;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),userLike=_useState2[0],setUserLike=_useState2[1];var _useState3=useState(singleTweet.likes),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];var btnClass=action===\"like\"?\"btn-primary\":action===\"unlike\"?\"btn-outline-secondary\":\"btn-outline-success\";var btnText={like:\"\".concat(likes,\" likes\"),unlike:\"unlike\",retweet:\"retweet\"};return/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(btnClass,\" mx-1\"),onClick:handleClick,children:btnText[action]});};export var Tweet=function Tweet(props){var _props$singleTweet=props.singleTweet,content=_props$singleTweet.content,likes=_props$singleTweet.likes;return/*#__PURE__*/_jsxs(\"div\",{className:\"col-10 py-5 my-3 border-bottom\",children:[/*#__PURE__*/_jsx(\"h3\",{children:content}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group\",children:[/*#__PURE__*/_jsx(ActionBtn,{singleTweet:props.singleTweet,action:\"like\"}),/*#__PURE__*/_jsx(ActionBtn,{singleTweet:props.singleTweet,action:\"unlike\"}),/*#__PURE__*/_jsx(ActionBtn,{singleTweet:props.singleTweet,action:\"retweet\"})]})]});};export function TweetsList(props){var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tweets=_useState6[0],setTweets=_useState6[1];var createdTweet=props.createdTweet;useEffect(function(){setTweets([createdTweet].concat(_toConsumableArray(tweets)));},[createdTweet]);useEffect(function(){var setTweetsCallback=function setTweetsCallback(response,status){if(status===200){setTweets(response);if(!tweets){setTweets([{id:1,content:\"hey\"},{id:2,content:\"heysup\"},{id:3,content:\"sup\"}]);}}};displayTweets(setTweetsCallback);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container align-center\",children:tweets.map(function(singleTweet,index){var id=singleTweet.id,content=singleTweet.content,likes=singleTweet.likes;return/*#__PURE__*/_jsx(Tweet,{singleTweet:singleTweet},\"\".concat(index,\"-\").concat(id));})});}export var TweetsComponent=function TweetsComponent(props){var textareaRef=useRef();var _useState7=useState({content:\"\"}),_useState8=_slicedToArray(_useState7,2),createdTweet=_useState8[0],setCreatedTweet=_useState8[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var newVal=textareaRef.current.value;console.log(newVal);setCreatedTweet({content:newVal});};return/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 my-4\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{ref:textareaRef,required:true,className:\"form-control\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-2\",children:\"Tweet\"})]}),/*#__PURE__*/_jsx(TweetsList,{createdTweet:createdTweet})]});};","map":{"version":3,"sources":["/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/src/tweets/components.js"],"names":["React","useState","useEffect","useRef","displayTweets","ActionBtn","props","handleClick","event","preventDefault","userLike","setLikes","likes","setUserLike","singleTweet","action","btnClass","btnText","like","unlike","retweet","Tweet","content","TweetsList","tweets","setTweets","createdTweet","setTweetsCallback","response","status","id","map","index","TweetsComponent","textareaRef","setCreatedTweet","handleSubmit","newVal","current","value","console","log"],"mappings":"gbAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,MAApC,KAAiD,OAAjD,CACA,OAAQC,aAAR,KAA4B,WAA5B,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAClC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7BA,KAAK,CAACC,cAAN,GACAC,QAAQ,CAAGC,QAAQ,CAACC,KAAK,CAAG,CAAT,CAAX,CAAyBD,QAAQ,CAACC,KAAK,CAAG,CAAT,CAAzC,CACAC,WAAW,CAAC,CAACH,QAAF,CAAX,CACD,CAJD,CADkC,GAO3BI,CAAAA,WAP2B,CAOJR,KAPI,CAO3BQ,WAP2B,CAOdC,MAPc,CAOJT,KAPI,CAOdS,MAPc,eAQFd,QAAQ,CAAC,KAAD,CARN,wCAQ3BS,QAR2B,eAQjBG,WARiB,8BASRZ,QAAQ,CAACa,WAAW,CAACF,KAAb,CATA,yCAS3BA,KAT2B,eASpBD,QAToB,eAUlC,GAAMK,CAAAA,QAAQ,CAAGD,MAAM,GAAK,MAAX,CAAoB,aAApB,CAAoCA,MAAM,GAAK,QAAX,CAAsB,uBAAtB,CAAgD,qBAArG,CACA,GAAME,CAAAA,OAAO,CAAG,CAAEC,IAAI,WAAKN,KAAL,UAAN,CACEO,MAAM,CAAE,QADV,CAEEC,OAAO,CAAE,SAFX,CAAhB,CAKA,mBACE,eAAQ,SAAS,eAASJ,QAAT,SAAjB,CAA2C,OAAO,CAAET,WAApD,UACGU,OAAO,CAACF,MAAD,CADV,EADF,CAKD,CArBM,CAuBP,MAAO,IAAMM,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACf,KAAD,CAAW,wBACLA,KAAK,CAACQ,WADD,CACvBQ,OADuB,oBACvBA,OADuB,CACdV,KADc,oBACdA,KADc,CAE9B,mBACE,aAAK,SAAS,CAAC,gCAAf,wBACE,oBAAKU,OAAL,EADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,KAAC,SAAD,EAAW,WAAW,CAAGhB,KAAK,CAACQ,WAA/B,CAA4C,MAAM,CAAC,MAAnD,EADF,cAEE,KAAC,SAAD,EAAW,WAAW,CAAGR,KAAK,CAACQ,WAA/B,CAA4C,MAAM,CAAC,QAAnD,EAFF,cAGE,KAAC,SAAD,EAAW,WAAW,CAAGR,KAAK,CAACQ,WAA/B,CAA4C,MAAM,CAAC,SAAnD,EAHF,GAFF,GADF,CAUD,CAZM,CAcP,MAAO,SAASS,CAAAA,UAAT,CAAoBjB,KAApB,CAA2B,gBACJL,QAAQ,CAAC,EAAD,CADJ,yCACzBuB,MADyB,eACjBC,SADiB,eAEhC,GAAMC,CAAAA,YAAY,CAAGpB,KAAK,CAACoB,YAA3B,CAEAxB,SAAS,CAAC,UAAM,CACduB,SAAS,EAAEC,YAAF,4BAAmBF,MAAnB,GAAT,CACD,CAFQ,CAEN,CAACE,YAAD,CAFM,CAAT,CAIAxB,SAAS,CAAC,UAAM,CACd,GAAMyB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,QAAD,CAAWC,MAAX,CAAsB,CAC9C,GAAIA,MAAM,GAAK,GAAf,CAAmB,CACjBJ,SAAS,CAACG,QAAD,CAAT,CACA,GAAI,CAACJ,MAAL,CAAa,CACXC,SAAS,CAAC,CAAC,CAACK,EAAE,CAAE,CAAL,CAAQR,OAAO,CAAE,KAAjB,CAAD,CAA0B,CAACQ,EAAE,CAAE,CAAL,CAAQR,OAAO,CAAE,QAAjB,CAA1B,CAAsD,CAACQ,EAAE,CAAE,CAAL,CAAQR,OAAO,CAAE,KAAjB,CAAtD,CAAD,CAAT,CACD,CAEF,CACF,CARD,CASAlB,aAAa,CAACuB,iBAAD,CAAb,CAED,CAZQ,CAYN,EAZM,CAAT,CAcA,mBAEI,YAAK,SAAS,CAAC,wBAAf,UAEIH,MAAM,CAACO,GAAP,CAAW,SAACjB,WAAD,CAAckB,KAAd,CAAuB,IACzBF,CAAAA,EADyB,CACHhB,WADG,CACzBgB,EADyB,CACrBR,OADqB,CACHR,WADG,CACrBQ,OADqB,CACZV,KADY,CACHE,WADG,CACZF,KADY,CAEhC,mBACE,KAAC,KAAD,EAA8B,WAAW,CAAIE,WAA7C,YAAekB,KAAf,aAAwBF,EAAxB,EADF,CAGD,CALD,CAFJ,EAFJ,CAcD,CAED,MAAO,IAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC3B,KAAD,CAAW,CACxC,GAAM4B,CAAAA,WAAW,CAAG/B,MAAM,EAA1B,CADwC,eAEAF,QAAQ,CAAC,CAACqB,OAAO,CAAE,EAAV,CAAD,CAFR,yCAEjCI,YAFiC,eAEnBS,eAFmB,eAKxC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAC5B,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACA,GAAM4B,CAAAA,MAAM,CAAGH,WAAW,CAACI,OAAZ,CAAoBC,KAAnC,CACAC,OAAO,CAACC,GAAR,CAAYJ,MAAZ,EACAF,eAAe,CAAC,CAACb,OAAO,CAAEe,MAAV,CAAD,CAAf,CACD,CALD,CAMA,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAM,QAAQ,CAAED,YAAhB,wBACI,iBAAU,GAAG,CAAEF,WAAf,CAA4B,QAAQ,CAAE,IAAtC,CAA4C,SAAS,CAAC,cAAtD,EADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,sBAAhC,mBAFJ,GADF,cAKE,KAAC,UAAD,EAAY,YAAY,CAAER,YAA1B,EALF,GADF,CAUD,CArBM","sourcesContent":["import React, {useState, useEffect, useRef} from \"react\"\nimport {displayTweets} from \"../lookup\"\n\nexport const ActionBtn = (props) => {\n  const handleClick = (event) => {\n    event.preventDefault() \n    userLike ? setLikes(likes - 1) : setLikes(likes + 1)\n    setUserLike(!userLike)\n  }\n\n  const {singleTweet, action} = props\n  const [userLike, setUserLike] = useState(false)\n  const [likes, setLikes] = useState(singleTweet.likes)\n  const btnClass = action === \"like\" ? \"btn-primary\" : action === \"unlike\" ? \"btn-outline-secondary\" : \"btn-outline-success\"                                                                   \n  const btnText = { like: `${likes} likes`, \n                    unlike: \"unlike\", \n                    retweet: \"retweet\"\n                  }\n\n  return(\n    <button className={`btn ${btnClass} mx-1`} onClick={handleClick}>\n      {btnText[action]}\n    </button>\n  )\n}\n\nexport const Tweet = (props) => {\n  const {content, likes} = props.singleTweet\n  return (\n    <div className=\"col-10 py-5 my-3 border-bottom\">\n      <h3>{content}</h3>\n      <div className=\"btn btn-group\">\n        <ActionBtn singleTweet= {props.singleTweet} action=\"like\" />\n        <ActionBtn singleTweet= {props.singleTweet} action=\"unlike\" />\n        <ActionBtn singleTweet= {props.singleTweet} action=\"retweet\" />\n      </div>\n    </div>\n  )\n}\n\nexport function TweetsList(props) {\n  const [tweets, setTweets] = useState([])\n  const createdTweet = props.createdTweet\n\n  useEffect(() => {\n    setTweets([createdTweet, ...tweets])\n  }, [createdTweet])\n\n  useEffect(() => {\n    const setTweetsCallback = (response, status) => {\n      if (status === 200){\n        setTweets(response)\n        if (!tweets) {\n          setTweets([{id: 1, content: \"hey\"}, {id: 2, content: \"heysup\"}, {id: 3, content: \"sup\"}])      \n        }\n        \n      }\n    }\n    displayTweets(setTweetsCallback)\n\n  }, [])\n\n  return (\n\n      <div className=\"container align-center\">\n          {\n          tweets.map((singleTweet, index) =>{\n            const {id, content, likes} = singleTweet\n            return(\n              <Tweet key={`${index}-${id}`} singleTweet = {singleTweet} />\n            )\n          })\n          }\n      </div>\n\n  );\n}\n\nexport const TweetsComponent = (props) => {\n  const textareaRef = useRef()\n  const [createdTweet, setCreatedTweet] = useState({content: \"\"})\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const newVal = textareaRef.current.value\n    console.log(newVal);\n    setCreatedTweet({content: newVal})\n  }\n  return (\n    <div className=\"col-12 my-4\">\n      <form onSubmit={handleSubmit}>\n          <textarea ref={textareaRef} required={true} className=\"form-control\" />\n          <button type=\"submit\" className=\"btn btn-primary mt-2\">Tweet</button>\n      </form>\n      <TweetsList createdTweet={createdTweet}/>\n    </div>\n      \n    )\n}"]},"metadata":{},"sourceType":"module"}