{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _wrapRegExp from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{ActionBtn}from\"./buttons\";import{UserDisplay,UserPicture}from\"../profile\";export var Tweet=function Tweet(props){var _props$singleTweet=props.singleTweet,content=_props$singleTweet.content,likes=_props$singleTweet.likes,id=_props$singleTweet.id,user=_props$singleTweet.user;var handleDidRetweet=props.handleDidRetweet;var parentTweet=props.singleTweet.parent;var _useState=useState(props.singleTweet),_useState2=_slicedToArray(_useState,2),singleTweet=_useState2[0],setSingleTweet=_useState2[1];var isDetailView=checkIfDetailView(singleTweet);var profPicstyle={fontSize:\"2.2rem\",backgroundColor:\"#245280\"};var profPicClasses=\"px-4 py-3 rounded-circle text-white\";var tweetClass=\"col-12 py-4 my-3 border-bottom d-flex flex-column\";function checkIfDetailView(tweet){var path=window.location.pathname;var idRegex=/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetId:1});var match=path.match(idRegex);var urlTweetId=match?match.groups.tweetId:-1;return\"\".concat(tweet.id)===\"\".concat(urlTweetId);}var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"\".concat(singleTweet.id);};var tweetActionDidPerform=function tweetActionDidPerform(actionTweet,status){if(status===200){setSingleTweet(actionTweet);}else if(status===201){handleDidRetweet(actionTweet);}};return/*#__PURE__*/_jsxs(\"div\",{className:tweetClass,style:{\"backgroundColor\":\"rgb(247, 249, 251)\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-2 mx-2\",children:[/*#__PURE__*/_jsx(UserPicture,{user:user,stylings:profPicstyle,classes:profPicClasses}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-3\",children:/*#__PURE__*/_jsx(UserDisplay,{user:user,includeFullName:true})})]}),content&&/*#__PURE__*/_jsx(\"h3\",{className:\"mx-5\",children:content}),parentTweet&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ParentTweet,{tweet:parentTweet,checkIfDetailView:checkIfDetailView,handleLink:handleLink})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 align-self-end\",children:[/*#__PURE__*/_jsx(ActionBtn,{singleTweet:singleTweet,action:\"like\",tweetActionDidPerform:tweetActionDidPerform}),/*#__PURE__*/_jsx(ActionBtn,{singleTweet:singleTweet,action:\"unlike\",tweetActionDidPerform:tweetActionDidPerform}),/*#__PURE__*/_jsx(ActionBtn,{singleTweet:singleTweet,action:\"retweet\",tweetActionDidPerform:tweetActionDidPerform}),!isDetailView&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary mx-2 btn-sm border-0\",onClick:handleLink,children:\"view tweet\"})]})]});};var ParentTweet=function ParentTweet(props){var checkIfDetailView=props.checkIfDetailView,handleLink=props.handleLink;var _props$tweet=props.tweet,content=_props$tweet.content,user=_props$tweet.user;var isDetailView=checkIfDetailView(props.tweet);var profPicstyle={fontSize:\"2.2rem\",backgroundColor:\"rgb(251, 251, 251)\",color:\"#574f4f\"};var profPicClasses=\"px-4 py-3 rounded-circle\";// console.log(props.tweet.id, (user.first_name) ? user.first_name : \"null\");\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"col-9 mx-auto border rounded py-1 px-2 mb-2 position-relative\",style:{\"background\":\"#e8eef4\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2 text-muted small\",children:\"Retweet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mt-4 pointer\",children:[/*#__PURE__*/_jsx(UserPicture,{user:user,stylings:profPicstyle,classes:profPicClasses}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-3\",children:/*#__PURE__*/_jsx(UserDisplay,{user:user,includeFullName:true})})]}),/*#__PURE__*/_jsx(\"h3\",{children:content}),/*#__PURE__*/_jsx(\"br\",{}),!isDetailView&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link text-muted position-absolute bottom-0 end-0\",onClick:handleLink,children:\"view tweet\"})]});};","map":{"version":3,"sources":["/home/sarah/Dev/DjangoReact/tweetme2/tweetme2-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","UserDisplay","UserPicture","Tweet","props","singleTweet","content","likes","id","user","handleDidRetweet","parentTweet","parent","setSingleTweet","isDetailView","checkIfDetailView","profPicstyle","fontSize","backgroundColor","profPicClasses","tweetClass","tweet","path","window","location","pathname","idRegex","match","urlTweetId","groups","tweetId","handleLink","event","preventDefault","href","tweetActionDidPerform","actionTweet","status","ParentTweet","color"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\nimport {ActionBtn} from \"./buttons\"\nimport {UserDisplay, UserPicture} from \"../profile\"\n\nexport const Tweet = (props) => {\n  let {content, likes, id, user} = props.singleTweet\n  const handleDidRetweet = props.handleDidRetweet\n  const parentTweet = props.singleTweet.parent\n  const[singleTweet, setSingleTweet] = useState(props.singleTweet)\n  const isDetailView = checkIfDetailView(singleTweet)\n  const profPicstyle = {fontSize: \"2.2rem\", backgroundColor: \"#245280\"}\n  const profPicClasses = \"px-4 py-3 rounded-circle text-white\"\n  const tweetClass = \"col-12 py-4 my-3 border-bottom d-flex flex-column\"\n\n  function checkIfDetailView(tweet){\n    const path = window.location.pathname\n    const idRegex = /(?<tweetId>\\d+)/\n    const match = path.match(idRegex)\n    const urlTweetId = match ? match.groups.tweetId : -1\n    return `${tweet.id}` === `${urlTweetId}`\n  }\n\n  const handleLink = (event) => {\n    event.preventDefault()\n    window.location.href = `${singleTweet.id}`\n  }\n\n  const tweetActionDidPerform = (actionTweet, status) => {\n    if (status === 200) {\n      setSingleTweet(actionTweet)\n    }else if (status === 201){\n      handleDidRetweet(actionTweet)\n    }\n  }\n\n  return (\n    <div className={tweetClass} style={{\"backgroundColor\": \"rgb(247, 249, 251)\"}}>\n      <div className=\"d-flex mb-2 mx-2\">\n        <UserPicture user={user} stylings={profPicstyle} classes={profPicClasses}/>\n        <p className=\"mx-3\">\n          <UserDisplay user={user} includeFullName/>\n        </p>\n      </div>\n      {content && <h3 className=\"mx-5\">{content}</h3>}\n      {\n        parentTweet && \n        <div>\n          <ParentTweet tweet={parentTweet} checkIfDetailView={checkIfDetailView} handleLink={handleLink}/>\n        </div>\n      }\n      <div className=\"mt-3 align-self-end\">\n        <ActionBtn singleTweet={singleTweet} action=\"like\" tweetActionDidPerform={tweetActionDidPerform}/>\n        <ActionBtn singleTweet={singleTweet} action=\"unlike\" tweetActionDidPerform={tweetActionDidPerform}/>\n        <ActionBtn singleTweet={singleTweet} action=\"retweet\" tweetActionDidPerform={tweetActionDidPerform}/>\n        {\n          (!isDetailView) && <button className=\"btn btn-outline-secondary mx-2 btn-sm border-0\" onClick={handleLink}>view tweet</button>\n        }\n      </div>\n    </div>\n  )\n}\n\nconst ParentTweet = (props) => {\n  const {checkIfDetailView, handleLink} = props\n  const {content, user} = props.tweet\n  const isDetailView = checkIfDetailView(props.tweet)\n  const profPicstyle = {fontSize: \"2.2rem\", backgroundColor: \"rgb(251, 251, 251)\", color:\"#574f4f\"}\n  const profPicClasses = \"px-4 py-3 rounded-circle\"\n\n  // console.log(props.tweet.id, (user.first_name) ? user.first_name : \"null\");\n\n  return (\n    <div className=\"col-9 mx-auto border rounded py-1 px-2 mb-2 position-relative\" style={{\"background\": \"#e8eef4\"}}>\n      <p className=\"mb-2 text-muted small\">Retweet</p>\n      <div className=\"d-flex mt-4 pointer\">\n          <UserPicture user={user} stylings={profPicstyle} classes={profPicClasses}/>\n          <p className=\"mx-3\">\n            <UserDisplay user={user} includeFullName/>\n          </p>\n      </div>\n      <h3>{content}</h3><br/>\n      {\n        (!isDetailView) && <button className=\"btn btn-link text-muted position-absolute bottom-0 end-0\" onClick={handleLink}>\n          view tweet\n        </button>\n      }\n    </div>\n  )\n}\n\n"]},"metadata":{},"sourceType":"module"}